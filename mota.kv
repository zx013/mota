#:kivy 1.10
#:import Setting setting.Setting
#:import MazeBase setting.MazeBase
#:import Texture cache.Texture


<StateLabel>:
    idx: 0
    idy: 0
    offset: (0, 0)
    fsize: 20

    pos: ((self.idx * Setting.pos_size + self.offset[0]) * Setting.multiple, (self.idy * Setting.pos_size + self.offset[1]) * Setting.multiple)
    font_name: Setting.font_path
    font_size: self.fsize * Setting.multiple
    halign: 'center'
    color: (1, 1, 1, 1)
    outline_width: Setting.multiple
    outline_color: (0.25, 0.25, 0.25)


<StateImage>:
    idx: 0
    idy: 0
    offset: (0, 0)
    name: ''

    pos_hint: {'center_x': (self.idx * Setting.pos_size + self.offset[0]) * Setting.multiple / self.parent.width + 0.5, 'center_y': (self.idy * Setting.pos_size + self.offset[1]) * Setting.multiple / self.parent.height + 0.5} if self.parent else {}
    size: (Setting.pos_real, Setting.pos_real)
    size_hint: (None, None)
    texture: Texture.next(self.name)
    allow_stretch: True


<State>:
    size: (Setting.row_size, Setting.col_size)
    size_hint: (None, None)

    FloatLayout:
        StateLabel:
            idx: 0
            idy: - (Setting.col_show - 1) / 2
            text: Setting.title
            fsize: 24
        StateLabel:
            idx: (Setting.row_show - 3) / 2
            idy: - (Setting.col_show - 1) / 2
            fsize: 24
            init: root.herostate.bind('floor', self)


<MotaLayer>:
    rows: Setting.row_show
    cols: Setting.col_show
    size: (Setting.row_show * Setting.pos_real, Setting.col_show * Setting.pos_real)
    size_hint: (None, None)
    image: [[None for j in range(Setting.col_show)] for i in range(Setting.row_show)]


<FloorLabel>:
    pos: (0, Setting.size * 3)
    size: (Setting.row_size, Setting.col_size)
    size_hint: (None, None)
    font_name: Setting.font_path
    font_size: str(Setting.size * 40 * Setting.multiple)
    #canvas.opacity = 0


<Mota>:
    size: (Setting.row_size, Setting.col_size)
    size_hint: (None, None)
